(this["webpackJsonpconnect4-ai"]=this["webpackJsonpconnect4-ai"]||[]).push([[0],{15:function(e,t,n){},16:function(e,t,n){},18:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var r,a,c,i,s,o,u=n(0),h=n(1),l=n.n(h),f=n(9),d=n.n(f),b=(n(15),n(2)),p=n(3),j=n(6),v=n(5),m=(n(16),n(4)),y=n.n(m),O=n(7);function g(){return(g=Object(O.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(3).then(n.bind(null,23));case 2:t=e.sent,r=t.rows(),a=t.cols(),c=t.wins(),i=t.calculate_move,t.calculate_scores;case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e){switch(e){case s.none:return"#fff";case s.red:return"#ff5252";case s.yellow:return"#ffea00"}}Array.repeat=function(e,t){for(var n=new Array(t);t;)n[--t]=e;return n},function(e){e[e.red=0]="red",e[e.yellow=1]="yellow",e[e.none=2]="none"}(s||(s={})),function(e){e[e.ai=0]="ai",e[e.human=1]="human"}(o||(o={}));var w=function(){function e(){Object(b.a)(this,e),this.board=void 0,this.currentPlayer=void 0,this.heights=void 0;for(var t=[],n=0;n<r;n++){t.push([]);for(var c=0;c<a;c++)t[n].push(s.none)}this.board=t,this.currentPlayer=o.human,this.heights=Array.repeat(0,a)}return Object(p.a)(e,[{key:"togglePlayer",value:function(){this.currentPlayer===o.human?this.currentPlayer=o.ai:this.currentPlayer=o.human}},{key:"play",value:function(e){if(e>=a)throw new Error("invalid column number");return!(this.heights[e]>=r)&&(this.board[r-this.heights[e]-1][e]=this.token,this.heights[e]++,!0)}},{key:"check_winner",value:function(){for(var e=this.token,t=0;t<r;t++)for(var n=0;n<a;n++)if(!(t>r-c&&n>a-c||this.board[t][n]!==e)){var i=1;if(n<=a-c){for(var s=1;s<c&&this.board[t][n+s]===e;s++)i++;if(i===c)return!0}if(t<=r-c){i=1;for(var o=1;o<c&&this.board[t+o][n]===e;o++)i++;if(i===c)return!0}if(t<=r-c&&n<=a-c){i=1;for(var u=1;u<c&&this.board[t+u][n+u]===e;u++)i++;if(i===c)return!0}if(t>=c-1&&n<=a-c){i=1;for(var h=1;h<c&&this.board[t-h][n+h]===e;h++)i++;if(i===c)return!0}}return!1}},{key:"token",get:function(){return function(e){switch(e){case o.ai:return s.red;case o.human:return s.yellow}}(this.currentPlayer)}},{key:"playerName",get:function(){return function(e){switch(e){case o.ai:return"AI";case o.human:return"Human"}}(this.currentPlayer)}}]),e}(),x=(n(18),n.p+"static/media/logo.6ce24c58.svg"),C=function(e){Object(j.a)(n,e);var t=Object(v.a)(n);function n(e){var r;return Object(b.a)(this,n),(r=t.call(this,e)).game=void 0,r.game=new w,r.state={board:r.game.board,enabled:!0,scores:[]},r}return Object(p.a)(n,[{key:"transpose",value:function(){for(var e=[],t=0;t<a;t++){e.push([]);for(var n=0;n<r;n++)e[t].push(this.state.board[n][t])}return e}},{key:"won",value:function(){alert("".concat(this.game.playerName," won!"))}},{key:"play",value:function(){var e=Object(O.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.game.play(t)){e.next=11;break}if(this.setState({board:this.game.board}),!this.game.check_winner()){e.next=9;break}return this.won(),e.abrupt("return",!1);case 9:return this.game.togglePlayer(),e.abrupt("return",!0);case 11:return e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(u.jsxs)("div",{children:[Object(u.jsx)("h1",{children:"Connect4 AI"}),Object(u.jsxs)("div",{className:"Row",children:[Object(u.jsx)("p",{children:"Current Player: "}),Object(u.jsx)("div",{className:"CurrentPlayer",style:{backgroundColor:k(this.game.token)}}),!this.state.enabled&&Object(u.jsxs)("div",{children:[Object(u.jsx)("p",{children:"AI Thinking"}),Object(u.jsx)("img",{src:x,className:"App-logo",alt:"logo"})]})]}),Object(u.jsxs)("div",{className:"Row",children:[Object(u.jsx)("div",{className:"Board",children:this.transpose().map((function(t,n){return Object(u.jsx)("div",{className:"Column",onClick:function(){e.state.enabled&&e.setState({enabled:!1},(function(){e.play(n).then((function(t){if(t){var n=i(e.game.board,12);e.play(n).then((function(t){t&&e.setState({enabled:!0})}))}else e.setState({enabled:!0})}))}))},children:t.map((function(e,t){return Object(u.jsx)(P,{r:t,c:n,tok:e})}))})}))}),Object(u.jsx)("div",{className:"Column",children:this.state.scores.map((function(e,t){return Object(u.jsxs)("p",{children:["COL ",t+1,": ",e]})}))})]})]})}}]),n}(l.a.Component),P=function(e){Object(j.a)(n,e);var t=Object(v.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){return Object(u.jsx)("div",{className:"Token",style:{backgroundColor:k(this.props.tok)}},"".concat(this.props.r,", ").concat(this.props.c))}}]),n}(l.a.Component),N=C,A=function(e){Object(j.a)(n,e);var t=Object(v.a)(n);function n(e){var r;return Object(b.a)(this,n),(r=t.call(this,e)).state={},r}return Object(p.a)(n,[{key:"render",value:function(){return Object(u.jsx)("div",{className:"App",children:Object(u.jsx)("header",{className:"App-header",children:Object(u.jsx)(N,{})})})}}]),n}(l.a.Component),S=function(e){e&&e instanceof Function&&n.e(4).then(n.bind(null,24)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))};(function(){return g.apply(this,arguments)})().then((function(){d.a.render(Object(u.jsx)(l.a.StrictMode,{children:Object(u.jsx)(A,{})}),document.getElementById("root")),S()}))}},[[19,1,2]]]);
//# sourceMappingURL=main.e627569d.chunk.js.map