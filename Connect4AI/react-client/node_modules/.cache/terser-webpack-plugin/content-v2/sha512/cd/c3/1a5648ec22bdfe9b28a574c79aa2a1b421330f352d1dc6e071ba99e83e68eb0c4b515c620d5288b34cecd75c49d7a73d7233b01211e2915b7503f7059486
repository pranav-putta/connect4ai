{"code":"(this[\"webpackJsonpconnect4-ai\"]=this[\"webpackJsonpconnect4-ai\"]||[]).push([[0],{15:function(e,t,n){},16:function(e,t,n){},18:function(e,t,n){},19:function(e,t,n){\"use strict\";n.r(t);var r,a,i,c,s,o,u=n(0),h=n(1),l=n.n(h),f=n(9),b=n.n(f),d=(n(15),n(2)),p=n(3),j=n(6),v=n(5),m=(n(16),n(4)),y=n.n(m),g=n(7);function O(){return(O=Object(g.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(3).then(n.bind(null,23));case 2:t=e.sent,r=t.rows(),a=t.cols(),i=t.wins(),c=t.calculate_move;case 7:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function k(e){switch(e){case s.none:return\"#fff\";case s.red:return\"#ff5252\";case s.yellow:return\"#ffea00\"}}Array.repeat=function(e,t){for(var n=new Array(t);t;)n[--t]=e;return n},function(e){e[e.red=0]=\"red\",e[e.yellow=1]=\"yellow\",e[e.none=2]=\"none\"}(s||(s={})),function(e){e[e.human=0]=\"human\",e[e.ai=1]=\"ai\"}(o||(o={}));var w=function(){function e(){Object(d.a)(this,e),this.board=void 0,this.currentPlayer=void 0,this.heights=void 0;for(var t=[],n=0;n<r;n++){t.push([]);for(var i=0;i<a;i++)t[n].push(s.none)}this.board=t,this.currentPlayer=o.human,this.heights=Array.repeat(0,a)}return Object(p.a)(e,[{key:\"togglePlayer\",value:function(){this.currentPlayer===o.human?this.currentPlayer=o.ai:this.currentPlayer=o.human}},{key:\"play\",value:function(e){if(e>=a)throw new Error(\"invalid column number\");return!(this.heights[e]>=a)&&(this.board[r-this.heights[e]-1][e]=this.token,this.heights[e]++,!0)}},{key:\"check_winner\",value:function(){for(var e=this.token,t=0;t<r;t++)for(var n=0;n<a;n++)if(!(t>r-i&&n>a-i||this.board[t][n]!==e)){var c=1;if(n<=a-i){for(var s=1;s<i&&this.board[t][n+s]===e;s++)c++;if(c===i)return!0}if(t<=r-i){c=1;for(var o=1;o<i&&this.board[t+o][n]===e;o++)c++;if(c===i)return!0}if(t<=r-i&&n<=a-i){c=1;for(var u=1;u<i&&this.board[t+u][n+u]===e;u++)c++;if(c===i)return!0}if(t>=i-1&&n<=a-i){c=1;for(var h=1;h<i&&this.board[t-h][n+h]===e;h++)c++;if(c===i)return!0}}return!1}},{key:\"token\",get:function(){return function(e){switch(e){case o.ai:return s.red;case o.human:return s.yellow}}(this.currentPlayer)}},{key:\"playerName\",get:function(){return function(e){switch(e){case o.ai:return\"AI\";case o.human:return\"Human\"}}(this.currentPlayer)}}]),e}(),x=(n(18),n.p+\"static/media/logo.6ce24c58.svg\"),C=function(e){Object(j.a)(n,e);var t=Object(v.a)(n);function n(e){var r;return Object(d.a)(this,n),(r=t.call(this,e)).game=void 0,r.game=new w,r.state={board:r.game.board,enabled:!0},r}return Object(p.a)(n,[{key:\"transpose\",value:function(){for(var e=[],t=0;t<a;t++){e.push([]);for(var n=0;n<r;n++)e[t].push(this.state.board[n][t])}return e}},{key:\"won\",value:function(){alert(\"\".concat(this.game.playerName,\" won!\"))}},{key:\"play\",value:function(){var e=Object(g.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.game.play(t)){e.next=11;break}if(this.setState({board:this.game.board}),!this.game.check_winner()){e.next=9;break}return this.won(),e.abrupt(\"return\",!1);case 9:return this.game.togglePlayer(),e.abrupt(\"return\",!0);case 11:return e.abrupt(\"return\",!1);case 12:case\"end\":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:\"render\",value:function(){var e=this;return Object(u.jsxs)(\"div\",{children:[Object(u.jsx)(\"h1\",{children:\"Connect4 AI\"}),Object(u.jsxs)(\"div\",{className:\"Row\",children:[Object(u.jsx)(\"p\",{children:\"Current Player: \"}),Object(u.jsx)(\"div\",{className:\"CurrentPlayer\",style:{backgroundColor:k(this.game.token)}}),!this.state.enabled&&Object(u.jsxs)(\"div\",{children:[Object(u.jsx)(\"p\",{children:\"AI Thinking\"}),Object(u.jsx)(\"img\",{src:x,className:\"App-logo\",alt:\"logo\"})]})]}),Object(u.jsx)(\"div\",{className:\"Board\",children:this.transpose().map((function(t,n){return Object(u.jsx)(\"div\",{className:\"Column\",onClick:function(){e.state.enabled&&e.setState({enabled:!1},(function(){e.play(n).then((function(t){if(t){var n=c(e.game.board,10);e.play(n).then((function(t){t&&e.setState({enabled:!0})}))}}))}))},children:t.map((function(e,t){return Object(u.jsx)(P,{r:t,c:n,tok:e})}))})}))})]})}}]),n}(l.a.Component),P=function(e){Object(j.a)(n,e);var t=Object(v.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:\"render\",value:function(){return Object(u.jsx)(\"div\",{className:\"Token\",style:{backgroundColor:k(this.props.tok)}},\"\".concat(this.props.r,\", \").concat(this.props.c))}}]),n}(l.a.Component),N=C,A=function(e){Object(j.a)(n,e);var t=Object(v.a)(n);function n(e){var r;return Object(d.a)(this,n),(r=t.call(this,e)).state={},r}return Object(p.a)(n,[{key:\"render\",value:function(){return Object(u.jsx)(\"div\",{className:\"App\",children:Object(u.jsx)(\"header\",{className:\"App-header\",children:Object(u.jsx)(N,{})})})}}]),n}(l.a.Component),I=function(e){e&&e instanceof Function&&n.e(4).then(n.bind(null,24)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),i(e),c(e)}))};(function(){return O.apply(this,arguments)})().then((function(){b.a.render(Object(u.jsx)(l.a.StrictMode,{children:Object(u.jsx)(A,{})}),document.getElementById(\"root\")),I()}))}},[[19,1,2]]]);","name":"static/js/main.2b6b016e.chunk.js","map":{"version":3,"sources":["static/js/main.2b6b016e.chunk.js"],"names":["this","push","15","module","exports","__webpack_require__","16","18","19","__webpack_exports__","r","rows","cols","win","calculate_move","Token","Player","jsx_runtime","react","react_default","n","react_dom","react_dom_default","classCallCheck","createClass","inherits","createSuper","regenerator","regenerator_default","asyncToGenerator","_load","Object","a","mark","_callee","wasm","wrap","_context","prev","next","e","then","bind","sent","wins","stop","apply","arguments","TokenToColor","tok","none","red","yellow","Array","repeat","what","l","arr","game_Game","Game","board","currentPlayer","heights","c","human","key","value","ai","col","Error","token","ct","i","_i","_i2","_i3","get","player","PlayerToToken","PlayerToText","logo","p","Board_Board","_React$Component","Board","_super","props","_this","call","game","state","enabled","transpose","alert","concat","playerName","_play","play","setState","check_winner","won","abrupt","togglePlayer","_x","_this2","children","className","style","backgroundColor","src","alt","map","onClick","cont","Board_TokenView","Component","_React$Component2","TokenView","_super2","src_game_Board","src_App_0","App","src_reportWebVitals","onPerfEntry","Function","_ref","getCLS","getFID","getFCP","getLCP","getTTFB","load","render","StrictMode","document","getElementById"],"mappings":"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"},"input":"(this[\"webpackJsonpconnect4-ai\"] = this[\"webpackJsonpconnect4-ai\"] || []).push([[0],{\n\n/***/ 15:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 16:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 18:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 19:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(0);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(1);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(9);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(15);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\nvar classCallCheck = __webpack_require__(2);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js\nvar createClass = __webpack_require__(3);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js + 1 modules\nvar inherits = __webpack_require__(6);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper.js + 5 modules\nvar createSuper = __webpack_require__(5);\n\n// EXTERNAL MODULE: ./src/App.css\nvar src_App = __webpack_require__(16);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(4);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(7);\n\n// CONCATENATED MODULE: ./src/WASM.ts\nvar rows;var cols;var win;var calculate_move;function load(){return _load.apply(this,arguments);}function _load(){_load=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){var wasm;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return __webpack_require__.e(/* import() */ 3).then(__webpack_require__.bind(null, 23));case 2:wasm=_context.sent;rows=wasm.rows();cols=wasm.cols();win=wasm.wins();calculate_move=wasm.calculate_move;case 7:case\"end\":return _context.stop();}}},_callee);}));return _load.apply(this,arguments);}\n// CONCATENATED MODULE: ./src/Extensions.ts\nArray.repeat=function(what,l){var arr=new Array(l);while(l){arr[--l]=what;}return arr;};\n// CONCATENATED MODULE: ./src/game/Game.ts\nvar Token;(function(Token){Token[Token[\"red\"]=0]=\"red\";Token[Token[\"yellow\"]=1]=\"yellow\";Token[Token[\"none\"]=2]=\"none\";})(Token||(Token={}));var Player;(function(Player){Player[Player[\"human\"]=0]=\"human\";Player[Player[\"ai\"]=1]=\"ai\";})(Player||(Player={}));function TokenToColor(tok){switch(tok){case Token.none:return'#fff';case Token.red:return'#ff5252';case Token.yellow:return'#ffea00';}}function PlayerToToken(player){switch(player){case Player.ai:return Token.red;case Player.human:return Token.yellow;}}function PlayerToText(player){switch(player){case Player.ai:return\"AI\";case Player.human:return\"Human\";}}var Game_Game=/*#__PURE__*/function(){function Game(){Object(classCallCheck[\"a\" /* default */])(this,Game);this.board=void 0;this.currentPlayer=void 0;this.heights=void 0;var board=[];for(var r=0;r<rows;r++){board.push([]);for(var c=0;c<cols;c++){board[r].push(Token.none);}}this.board=board;this.currentPlayer=Player.human;this.heights=Array.repeat(0,cols);}Object(createClass[\"a\" /* default */])(Game,[{key:\"togglePlayer\",value:function togglePlayer(){if(this.currentPlayer===Player.human){this.currentPlayer=Player.ai;}else{this.currentPlayer=Player.human;}}/**\n     * plays selected column with current player\n     * @param col column to choose\n     * @return returns if the current player won\n     */},{key:\"play\",value:function play(col){if(col>=cols){throw new Error(\"invalid column number\");}else if(this.heights[col]>=cols){return false;}// set token\nthis.board[rows-this.heights[col]-1][col]=this.token;// add to colHeights\nthis.heights[col]++;return true;}},{key:\"check_winner\",value:function check_winner(){var tok=this.token;for(var r=0;r<rows;r++){for(var c=0;c<cols;c++){if(r>rows-win&&c>cols-win||this.board[r][c]!==tok){// no need to check through positions\ncontinue;}var ct=1;// check right\nif(c<=cols-win){for(var i=1;i<win;i++){if(this.board[r][c+i]!==tok){break;}ct++;}if(ct===win){return true;}}// check down\nif(r<=rows-win){ct=1;for(var _i=1;_i<win;_i++){if(this.board[r+_i][c]!==tok){break;}ct++;}if(ct===win){return true;}}// check r-d diagonal\nif(r<=rows-win&&c<=cols-win){ct=1;for(var _i2=1;_i2<win;_i2++){if(this.board[r+_i2][c+_i2]!==tok){break;}ct++;}if(ct===win){return true;}}// check r-u diagonal\nif(r>=win-1&&c<=cols-win){ct=1;for(var _i3=1;_i3<win;_i3++){if(this.board[r-_i3][c+_i3]!==tok){break;}ct++;}if(ct===win){return true;}}}}return false;}},{key:\"token\",get:function get(){return PlayerToToken(this.currentPlayer);}},{key:\"playerName\",get:function get(){return PlayerToText(this.currentPlayer);}}]);return Game;}();/* harmony default export */ var game_Game = (Game_Game);\n// EXTERNAL MODULE: ./src/game/Board.css\nvar game_Board = __webpack_require__(18);\n\n// CONCATENATED MODULE: ./src/logo.svg\n/* harmony default export */ var logo = (__webpack_require__.p + \"static/media/logo.6ce24c58.svg\");\n// CONCATENATED MODULE: ./src/game/Board.tsx\nvar Board_Board=/*#__PURE__*/function(_React$Component){Object(inherits[\"a\" /* default */])(Board,_React$Component);var _super=Object(createSuper[\"a\" /* default */])(Board);function Board(props){var _this;Object(classCallCheck[\"a\" /* default */])(this,Board);_this=_super.call(this,props);_this.game=void 0;_this.game=new game_Game();_this.state={board:_this.game.board,enabled:true};return _this;}Object(createClass[\"a\" /* default */])(Board,[{key:\"transpose\",value:function transpose(){var transpose=[];for(var c=0;c<cols;c++){transpose.push([]);for(var r=0;r<rows;r++){transpose[c].push(this.state.board[r][c]);}}return transpose;}},{key:\"won\",value:function won(){alert(\"\".concat(this.game.playerName,\" won!\"));}},{key:\"play\",value:function(){var _play=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(col){var inserted,won;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:inserted=this.game.play(col);if(!inserted){_context.next=11;break;}this.setState({board:this.game.board});won=this.game.check_winner();if(!won){_context.next=9;break;}this.won();return _context.abrupt(\"return\",false);case 9:this.game.togglePlayer();return _context.abrupt(\"return\",true);case 11:return _context.abrupt(\"return\",false);case 12:case\"end\":return _context.stop();}}},_callee,this);}));function play(_x){return _play.apply(this,arguments);}return play;}()},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"Connect4 AI\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"Row\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"Current Player: \"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"CurrentPlayer\",style:{backgroundColor:TokenToColor(this.game.token)}}),!this.state.enabled&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"AI Thinking\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:logo,className:\"App-logo\",alt:\"logo\"})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"Board\",children:this.transpose().map(function(col,c){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"Column\",onClick:function onClick(){if(_this2.state.enabled){_this2.setState({enabled:false},function(){_this2.play(c).then(function(cont){if(cont){var ai=calculate_move(_this2.game.board,10);_this2.play(ai).then(function(c){if(c){_this2.setState({enabled:true});}});}});});}},children:col.map(function(tok,r){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Board_TokenView,{r:r,c:c,tok:tok});})});})})]});}}]);return Board;}(react_default.a.Component);var Board_TokenView=/*#__PURE__*/function(_React$Component2){Object(inherits[\"a\" /* default */])(TokenView,_React$Component2);var _super2=Object(createSuper[\"a\" /* default */])(TokenView);function TokenView(){Object(classCallCheck[\"a\" /* default */])(this,TokenView);return _super2.apply(this,arguments);}Object(createClass[\"a\" /* default */])(TokenView,[{key:\"render\",value:function render(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"Token\",style:{backgroundColor:TokenToColor(this.props.tok)}},\"\".concat(this.props.r,\", \").concat(this.props.c));}}]);return TokenView;}(react_default.a.Component);/* harmony default export */ var src_game_Board = (Board_Board);\n// CONCATENATED MODULE: ./src/App.tsx\nvar App_App=/*#__PURE__*/function(_React$Component){Object(inherits[\"a\" /* default */])(App,_React$Component);var _super=Object(createSuper[\"a\" /* default */])(App);function App(props){var _this;Object(classCallCheck[\"a\" /* default */])(this,App);_this=_super.call(this,props);_this.state={};return _this;}Object(createClass[\"a\" /* default */])(App,[{key:\"render\",value:function render(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"App\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"header\",{className:\"App-header\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_game_Board,{})})});}}]);return App;}(react_default.a.Component);/* harmony default export */ var src_App_0 = (App_App);\n// CONCATENATED MODULE: ./src/reportWebVitals.ts\nvar reportWebVitals=function reportWebVitals(onPerfEntry){if(onPerfEntry&&onPerfEntry instanceof Function){__webpack_require__.e(/* import() */ 4).then(__webpack_require__.bind(null, 24)).then(function(_ref){var getCLS=_ref.getCLS,getFID=_ref.getFID,getFCP=_ref.getFCP,getLCP=_ref.getLCP,getTTFB=_ref.getTTFB;getCLS(onPerfEntry);getFID(onPerfEntry);getFCP(onPerfEntry);getLCP(onPerfEntry);getTTFB(onPerfEntry);});}};/* harmony default export */ var src_reportWebVitals = (reportWebVitals);\n// CONCATENATED MODULE: ./src/index.tsx\nload().then(function(){react_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App_0,{})}),document.getElementById('root'));// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nsrc_reportWebVitals();});\n\n/***/ })\n\n},[[19,1,2]]]);","inputSourceMap":{"version":3,"sources":["/Users/pranavputta/WebstormProjects/Connect4AI/react-client/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-5-0!/Users/pranavputta/WebstormProjects/Connect4AI/react-client/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-5-1!/Users/pranavputta/WebstormProjects/Connect4AI/react-client/node_modules/postcss-loader/src/index.js??postcss!/Users/pranavputta/WebstormProjects/Connect4AI/react-client/src/index.css","/Users/pranavputta/WebstormProjects/Connect4AI/react-client/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-5-0!/Users/pranavputta/WebstormProjects/Connect4AI/react-client/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-5-1!/Users/pranavputta/WebstormProjects/Connect4AI/react-client/node_modules/postcss-loader/src/index.js??postcss!/Users/pranavputta/WebstormProjects/Connect4AI/react-client/src/App.css","/Users/pranavputta/WebstormProjects/Connect4AI/react-client/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-5-0!/Users/pranavputta/WebstormProjects/Connect4AI/react-client/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-5-1!/Users/pranavputta/WebstormProjects/Connect4AI/react-client/node_modules/postcss-loader/src/index.js??postcss!/Users/pranavputta/WebstormProjects/Connect4AI/react-client/src/game/Board.css","/Users/pranavputta/WebstormProjects/Connect4AI/react-client/src/WASM.ts","/Users/pranavputta/WebstormProjects/Connect4AI/react-client/src/Extensions.ts","/Users/pranavputta/WebstormProjects/Connect4AI/react-client/src/game/Game.ts","/Users/pranavputta/WebstormProjects/Connect4AI/react-client/node_modules/file-loader/dist/cjs.js??ref--5-oneOf-9!/Users/pranavputta/WebstormProjects/Connect4AI/react-client/src/logo.svg","/Users/pranavputta/WebstormProjects/Connect4AI/react-client/src/game/Board.tsx","/Users/pranavputta/WebstormProjects/Connect4AI/react-client/src/App.tsx","/Users/pranavputta/WebstormProjects/Connect4AI/react-client/src/reportWebVitals.ts","/Users/pranavputta/WebstormProjects/Connect4AI/react-client/src/index.tsx"],"names":["rows","cols","win","calculate_move","load","wasm","wins","Array","repeat","what","l","arr","Token","Player","TokenToColor","tok","none","red","yellow","PlayerToToken","player","ai","human","PlayerToText","Game","board","currentPlayer","heights","r","push","c","col","Error","token","ct","i","Board","props","game","state","enabled","transpose","alert","playerName","inserted","play","setState","won","check_winner","togglePlayer","backgroundColor","logo","map","then","cont","React","Component","TokenView","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","export let rows: number\nexport let cols: number\nexport let win: number\nexport let calculate_move: (board: any, moves: number) => number\n\nexport async function load() {\n    const wasm = await import('wasm')\n    rows = wasm.rows()\n    cols = wasm.cols()\n    win = wasm.wins()\n    calculate_move= wasm.calculate_move\n}\n","declare global {\n    interface ArrayConstructor {\n        repeat(what: any, l: number): any[];\n    }\n}\n\nArray.repeat = (what: any, l: number) => {\n    let arr = new Array(l)\n    while(l) arr[--l] = what\n    return arr\n}\n\nexport {}\n","import {cols, rows, win} from \"../WASM\";\nimport '../Extensions'\n\nexport enum Token {\n    red, yellow, none\n}\n\nexport enum Player {\n    human, ai\n}\n\nexport function TokenToColor(tok: Token) {\n    switch (tok) {\n        case Token.none:\n            return '#fff'\n        case Token.red:\n            return '#ff5252'\n        case Token.yellow:\n            return '#ffea00'\n    }\n}\n\nexport function PlayerToToken(player: Player) {\n    switch (player) {\n        case Player.ai:\n            return Token.red\n        case Player.human:\n            return Token.yellow\n    }\n}\n\nexport function PlayerToText(player: Player) {\n    switch (player) {\n        case Player.ai:\n            return \"AI\"\n        case Player.human:\n            return \"Human\"\n    }\n}\n\nclass Game {\n\n    public board: Token[][]\n    public currentPlayer: Player\n\n    private heights: number[]\n\n    constructor() {\n        let board: Token[][] = []\n        for (let r = 0; r < rows; r++) {\n            board.push([])\n            for (let c = 0; c < cols; c++) {\n                board[r].push(Token.none)\n            }\n        }\n\n        this.board = board\n        this.currentPlayer = Player.human\n        this.heights = Array.repeat(0, cols)\n    }\n\n    public get token(): Token {\n        return PlayerToToken(this.currentPlayer)\n    }\n\n    public get playerName(): string {\n        return PlayerToText(this.currentPlayer)\n    }\n\n    public togglePlayer() {\n        if (this.currentPlayer === Player.human) {\n            this.currentPlayer = Player.ai\n        } else {\n            this.currentPlayer = Player.human\n        }\n    }\n\n    /**\n     * plays selected column with current player\n     * @param col column to choose\n     * @return returns if the current player won\n     */\n    public play(col: number): boolean {\n        if (col >= cols) {\n            throw new Error(\"invalid column number\")\n        } else if (this.heights[col] >= cols) {\n            return false;\n        }\n\n        // set token\n        this.board[rows - this.heights[col] - 1][col] = this.token\n\n        // add to colHeights\n        this.heights[col]++;\n\n        return true;\n    }\n\n    public check_winner(): boolean {\n        let tok = this.token\n\n        for (let r = 0; r < rows; r++) {\n            for (let c = 0; c < cols; c++) {\n                if ((r > rows - win && c > cols - win) || this.board[r][c] !== tok) {\n                    // no need to check through positions\n                    continue;\n                }\n                let ct = 1;\n\n                // check right\n                if (c <= cols - win) {\n                    for (let i = 1; i < win; i++) {\n                        if (this.board[r][c + i] !== tok) {\n                            break;\n                        }\n                        ct++;\n                    }\n\n\n                    if (ct === win) {\n                        return true;\n                    }\n                }\n\n                // check down\n                if (r <= rows - win) {\n                    ct = 1;\n                    for (let i = 1; i < win; i++) {\n                        if (this.board[r + i][c] !== tok) {\n                            break;\n                        }\n                        ct++;\n                    }\n\n                    if (ct === win) {\n                        return true;\n                    }\n                }\n\n                // check r-d diagonal\n                if (r <= rows - win && c <= cols - win) {\n                    ct = 1;\n                    for (let i = 1; i < win; i++) {\n                        if (this.board[r + i][c + i] !== tok) {\n                            break;\n                        }\n                        ct++;\n                    }\n\n                    if (ct === win) {\n                        return true;\n                    }\n                }\n\n                // check r-u diagonal\n                if (r >= win - 1 && c <= cols - win) {\n                    ct = 1;\n                    for (let i = 1; i < win; i++) {\n                        if (this.board[r - i][c + i] !== tok) {\n                            break;\n                        }\n                        ct++;\n                    }\n\n                    if (ct === win) {\n                        return true;\n                    }\n                }\n            }\n        }\n        return false;\n    }\n\n}\n\nexport default Game\n","export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","import React from \"react\";\nimport Game, {Token, TokenToColor} from \"./Game\";\nimport {rows, cols, calculate_move} from '../WASM'\nimport './Board.css'\nimport logo from '../logo.svg'\n\n\ninterface Props {\n}\n\ninterface State {\n    board: Token[][],\n    enabled: boolean\n}\n\nclass Board extends React.Component<Props, State> {\n\n    private game: Game;\n\n    constructor(props: Props) {\n        super(props);\n\n        this.game = new Game()\n\n        this.state = {\n            board: this.game.board,\n            enabled: true\n        }\n    }\n\n    transpose(): Token[][] {\n        let transpose: Token[][] = []\n        for (let c = 0; c < cols; c++) {\n            transpose.push([])\n            for (let r = 0; r < rows; r++) {\n                transpose[c].push(this.state.board[r][c])\n            }\n        }\n        return transpose\n    }\n\n    won() {\n        alert(`${this.game.playerName} won!`)\n    }\n\n    async play(col: number): Promise<boolean> {\n        let inserted = this.game.play(col);\n        if (inserted) {\n            this.setState({board: this.game.board})\n            let won = this.game.check_winner();\n            if (won) {\n                this.won();\n                return false;\n            } else {\n                this.game.togglePlayer()\n                return true;\n            }\n        }\n        return false;\n    }\n\n    render() {\n        return (\n            <div>\n                <h1>Connect4 AI</h1>\n                <div className=\"Row\">\n                    <p>Current Player: </p>\n                    <div className=\"CurrentPlayer\" style={{backgroundColor: TokenToColor(this.game.token)}}/>\n                    {!this.state.enabled && <div>\n                        <p>AI Thinking</p>\n                        <img src={logo} className=\"App-logo\" alt=\"logo\"/>\n                    </div>}\n                </div>\n                <div className='Board'>\n                    {this.transpose().map((col, c) => (\n                        <div className='Column' onClick={() => {\n                            if (this.state.enabled) {\n                                this.setState({enabled: false}, () => {\n                                    this.play(c).then((cont) => {\n                                        if (cont) {\n                                            let ai = calculate_move(this.game.board, 10)\n                                            this.play(ai).then((c) => {\n                                                if (c) {\n                                                    this.setState({enabled: true})\n                                                }\n                                            })\n                                        }\n                                    })\n                                })\n                            }\n                        }}>\n                            {col.map((tok, r) => (<TokenView r={r} c={c} tok={tok}/>))}\n                        </div>\n                    ))}\n                </div>\n            </div>)\n    }\n}\n\ninterface TokenProps {\n    tok: Token,\n    r: number,\n    c: number\n}\n\ninterface TokenState {\n}\n\nclass TokenView extends React.Component<TokenProps, TokenState> {\n\n    render() {\n        return <div key={`${this.props.r}, ${this.props.c}`}\n                    className='Token'\n                    style={{backgroundColor: TokenToColor(this.props.tok)}}/>\n    }\n\n}\n\nexport default Board;\n","import React from 'react';\nimport './App.css';\nimport Board from './game/Board'\n\ninterface Props {\n}\n\ninterface State {\n}\n\nclass App extends React.Component<Props, State> {\n\n    constructor(props: Props) {\n        super(props);\n        this.state = {}\n    }\n\n    render() {\n        return (\n            <div className=\"App\">\n                <header className=\"App-header\">\n                    <Board/>\n                </header>\n            </div>\n        );\n    }\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport {load} from './WASM'\n\nload().then(() => {\n    ReactDOM.render(\n        <React.StrictMode>\n            <App/>\n        </React.StrictMode>,\n        document.getElementById('root')\n    );\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n    reportWebVitals();\n})\n"]}}